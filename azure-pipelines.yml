pool:
  name: MyAzureVM-Pool

stages:
  - stage: Build
    displayName: 'Build Spring Boot App'
    jobs:
      - job: Build
        pool:
          name: MyAzureVM-Pool
        steps:
          ...
  - stage: Dockerize
    displayName: 'Docker Build and Push'
    dependsOn: Build
    jobs:
      - job: DockerBuildPush
        pool:
          name: MyAzureVM-Pool
        steps:
          ...
  - stage: Deploy
    displayName: 'Deploy to AKS'
    dependsOn: Dockerize
    jobs:
      - job: AKSDeploy
        pool:
          name: MyAzureVM-Pool
        steps:
          ...
  - stage: Verify
    displayName: 'Expose and Verify'
    dependsOn: Deploy
    jobs:
      - job: OutputURL
        pool:
          name: MyAzureVM-Pool
        steps:
          ...
